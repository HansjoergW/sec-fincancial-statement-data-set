IS
--
main positions to calculate:

Revenues (Umsatzerlöse): us-gaap:Revenues
    Revenue kann negativ sein

    RevenueFromContractWithCustomerIncludingAssessedTax
    - ExciseAndSalesTaxes
    = RevenueFromContractWithCustomerExcludingAssessedTax


Cost of Goods Sold (Kosten der verkauften Waren): us-gaap:CostOfGoodsAndServicesSold

Gross Profit (Bruttogewinn): us-gaap:GrossProfit

Operating Expenses (Betriebsaufwendungen): us-gaap:OperatingExpenses

  Hierzu gehören verschiedene Unterkategorien wie:
    us-gaap:ResearchAndDevelopmentExpense
    us-gaap:SellingGeneralAndAdministrativeExpense

Operating Income (Betriebsergebnis): us-gaap:OperatingIncomeLoss

Other Income and Expenses (Sonstige Erträge und Aufwendungen): us-gaap:NonoperatingIncomeExpense

Income Before Tax (Ergebnis vor Steuern):us-gaap:IncomeLossFromContinuingOperationsBeforeIncomeTaxesExtraordinaryItemsNoncontrollingInterest

Income Tax Expense (Ertragsteueraufwand):us-gaap:IncomeTaxExpenseBenefit

Net Income (Nettogewinn): us-gaap:NetIncomeLoss


Earnings Per Share (Gewinn je Aktie): us-gaap:EarningsPerShareBasicAndDiluted

Comprehensive Income (Gesamtergebnis): us-gaap:ComprehensiveIncomeNetOfTax


ToDos
-----
- Frage: wenn nur Grossprofit vorhanden ist, aber kein Revenue ausgewiesen,
  sollte dann Revenue denselben Wert wie Grossprofit haben? weil Revenue - CostOfRevenue = Grossprofit ergeben sollte?

- Prüfen der Vorzeichen, passt alles?
- definieren der Validation Rules
- EarningsPerShare?


Investement Incomes examples:
0001580345-23-000008
 InvestmentIncomeInterest
 +/- diverses
 = GrossInvestmentIncomeOperating
 - OperatingExpenses
 = NetInvestmentIncome

0001193125-23-053980

 GrossInvestmentIncomeOperating
 - InvestmentIncomeInvestmentExpense
 - Other expenses
 = NetInvestmentIncome



Revenue
-------
us-gaap:Revenues
  us-gaap:SalesRevenueNet
    us-gaap:ProductSalesRevenue
    us-gaap:ServiceRevenue


Cost of Revenue
----------------
- hint: wenn Revenue und GrossProfit vorhanden
  standardized_bag.result_df[standardized_bag.result_df.CostOfRevenue.isna() & ~standardized_bag.result_df.GrossProfit.isna() ]


Cost of Operating
----------------
- standardized_bag.result_df[standardized_bag.result_df.OperatingExpenses.isna() & ~standardized_bag.result_df.OperatingIncomeLoss.isna() ]
- idee:
   filter for reports with GrossProfit and OperatingIncomeLoss
   get all tags with line > GrossProfit.line and line < OperatingIncomeLoss.line
   -> sollte eine gute Liste ergeben, mit allem was Operating Cost sein kann.


Achtung:
- wir haben oft daten in IS und CI (comprehensive Income)
- prüfen, ob 10-Q immer Q? Einträge in fp hat und ob 10-K immer ein FY hat


Net Income

      IncomeLossFromContinuingOperationsBeforeIncomeTaxesMinorityInterestAndIncomeLossFromEquityMethodInvestments
    + IncomeLossFromEquityMethodInvestments
    = IncomeLossFromContinuingOperationsBeforeIncomeTaxesExtraordinaryItemsNoncontrollingInterest

      IncomeLossFromContinuingOperationsBeforeIncomeTaxesExtraordinaryItemsNoncontrollingInterest
    - IncomeTaxExpenseBenefit
    = IncomeLossFromContinuingOperationsIncludingPortionAttributableToNoncontrollingInterest






Banks
----

Revenue: InterestAndDividendIncomeOperating

"costOfRevenue": InterestIncomeExpenseNet -> total interest expense

Gross Profit

Frage: ist das folgende Betriebsaufwand, oder "other income expensis"
NoninterestIncome -> other income
NoninterestExpense -> other expense


IncomeLossFromContinuingOperationsBeforeIncomeTaxesMinorityInterestAndIncomeLossFromEquityMethodInvestments -> Income before income taxes

IncomeTaxExpenseBenefit -> income tax benefit

NetIncomeLoss -> netincome loss



Todos:
es gibt negative costOfRevenue Einträge

- 0001558370-23-014929 -> hier ist der Wert für NetIncomeLoss nicht getagged.
  könnte aus

  IncomeLossFromContinuingOperationsBeforeIncomeTaxesExtraordinaryItemsNoncontrollingInterest und
  IncomeTaxBenefitExpense berechnet werden:
   -> https://www.sec.gov/ix?doc=/Archives/edgar/data/1872356/000155837023014929/mkul-20230630x10q.htm



- Generell muss jeder Tag geprüft und korrigiert werden, für welchen klar ist, ob
  er einen positiven oder negativen Wert darstellt. Bzw. diese Tags müssen immer gleich behandelt werden
  auch im BS


- das CI müsste man eigentlich auch beachten.


     + SalesRevenueGoodsNet
     + SalesRevenueServicesNet
     + OtherSalesRevenueNet
     --------------
  or SalesRevenueNet

  or RevenuesSum
        RevenueFromContractWithCustomerExcludingAssessedTax
        RevenueFromContractWithCustomerIncludingAssessedTax
        RevenuesExcludingInterestAndDividends
        RegulatedAndUnregulatedOperatingRevenue
        ...

  or InterestAndDividendIncomeOperating
  --------
  Revenues
  ========

Sonstiges
---------
Falls Firmen nur die Resultate für Q2 und Q3 seit Beginn angeben, könnte man die Differenz für das einzelne Quartal
nachträglich berechnen. Wenn man beim Standardizer angeben könnte, ob qrtrs ein Bestandteil des Keys ist, könnte man diese auch direkt
berechnen und dann in einem Post Schritt das ganze cleanen, so, dass nur "einzelne Quarter" als Ergebnisse angezeigt werden.

Dazu müsste man eigentlich nur die adshs für Q2 und Q3 ermitteln, welche nur ein einziges Qrtr angeben. Von allen Q2 und Q3
werden dann diese abgezogen und es bleiben diejenigen übrig, die für Q2 und Q3 zwei, bzw. drei qrtr angeben.
dort kann man dann von Q2 Q1 abziehen und von Q3 das Ergebnis von Q2-Q1